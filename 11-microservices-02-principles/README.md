# Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

## Задача 1: API Gateway
API Gateway – это компонент микросервисной архитектуры, который позволяет управлять запросами к микросервисам. Для реализации API Gateway нужно выбрать подходящее программное решение, которое позволит маршрутизировать запросы, проверять аутентификационную информацию и обеспечивать терминацию HTTPS.

Для выбора конкретного решения необходимо учитывать дополнительные факторы, такие как наличие опыта работы с конкретными решениями, возможность интеграции с другими компонентами микросервисной архитектуры и т.д.

Например, если компания уже использует какой либо API Gateway, то использование может быть наиболее предпочтительным решением выбранного API Gateway, так как это позволит упростить интеграцию и управление системой.

Сравнительная таблица

|Программное решение|Маршрутизация запросов|Проверка аутентификации|Терминация HTTPS|
| ----------------- | -------------------- | --------------------- | -------------- |
|Nginx              |	Да                 |	Да                 |	Да          |
|HAProxy            |	Да                 |	Да                 |	Да          |
|Tyk                |	Да                 |	Да                 |	Да          |
|Apigee             |	Да                 |	Да                 |	Да          |

## Задача 2: Брокер сообщений

| Название  | Поддержка кластеризации | Хранение сообщений на диске | Высокая скорость работы | Поддержка различных форматов сообщений | Разделение прав доступа | Простота эксплуатации |
| --------- | ---------------------- | --------------------------- | ----------------------- | -------------------------------------- | ----------------------- | ---------------------- |
| RabbitMQ  | Да                     | Да                          | Да                      | Да                                     | Да                      | Да                     |
| Apache Kafka | Да                    | Да                          | Да                      | Да                                     | Да                      | Нет                    |
| ActiveMQ  | Да                     | Да                          | Да                      | Да                                     | Да                      | Да                     |
| Amazon SQS | Да                     | Да                          | Да                      | Да                                     | Да                      | Да                     |
| Redis     | Да                     | Да                          | Да                      | Да                                     | Да                      | Да                     |

На основании данной таблицы рекомендуется использовать RabbitMQ. Это решение обладает всеми необходимыми возможностями для успешной реализации брокера сообщений в микросервисной архитектуре. RabbitMQ поддерживает кластеризацию, что обеспечивает высокую надёжность и отказоустойчивость системы. Он также обеспечивает хранение сообщений на диске в процессе доставки, что помогает предотвратить потерю данных в случае сбоев в системе.

RabbitMQ имеет высокую скорость работы и поддерживает различные форматы сообщений, включая JSON, XML , что делает его универсальным инструментом для передачи сообщений между микросервисами.

RabbitMQ также обеспечивает разделение прав доступа к различным потокам сообщений и простоту эксплуатации, что делает его лучшим выбором для реализации брокера сообщений в микросервисной архитектуре.

## Обоснование

Простота использования: RabbitMQ предоставляет простой и интуитивно понятный интерфейс для работы с очередями сообщений. Это позволяет разработчикам быстро начать использование RabbitMQ и легко интегрировать его в свои приложения.

Высокая производительность: RabbitMQ является быстрым и эффективным в работе с большим объемом сообщений. Он может обрабатывать до миллионов сообщений в секунду, что делает его идеальным выбором для больших и высоконагруженных систем.

Гибкость: RabbitMQ поддерживает множество протоколов и языков программирования, что позволяет интегрировать его с различными приложениями и системами. Кроме того, RabbitMQ легко масштабируется и может быть использован в различных конфигурациях.

Надежность: RabbitMQ обеспечивает надежную доставку сообщений даже в условиях сбоев сети или оборудования. Он поддерживает механизмы обеспечения доставки сообщений и обработки ошибок, что делает его надежным выбором для критически важных приложений.

Расширяемость: RabbitMQ поддерживает плагины, которые позволяют расширить его функциональность и добавить новые возможности. Это позволяет адаптировать RabbitMQ под различные потребности и требования.